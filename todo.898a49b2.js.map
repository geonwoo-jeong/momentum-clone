{"version":3,"sources":["src/todo.ts"],"names":[],"mappings":";AAAA,aAAA,IAAM,EAAQ,WAMN,IAmDE,EAnDF,EAAoB,SACpB,EAAwB,EAAI,cAAc,iBAC9C,EAA0B,EAAK,cAAc,SAC7C,EAAyB,EAAI,cAAc,eAEvC,EAAW,QACb,EAAmB,GAEd,SAAA,EAAW,GACZ,IAAA,EAAK,EAAM,OAAO,WACxB,EAAK,YAAY,GACX,IAAA,EAAa,EAAM,OAAO,SAAA,GAAQ,OAAA,EAAK,KAAO,EAAG,KACvD,EAAQ,EACR,IAGO,SAAA,IACP,aAAa,QAAQ,EAAU,KAAK,UAAU,IAGvC,SAAA,EAAU,GACX,IAAA,EAAoB,EAAI,cAAc,MAC1C,EAA4B,EAAI,cAAc,UAC9C,EAAwB,EAAI,cAAc,QAC1C,EAAK,OAAO,EAAM,OAAS,GAE7B,EAAO,UAAY,IACnB,EAAO,iBAAiB,QAAS,GAEjC,EAAK,UAAY,EACjB,EAAG,GAAK,EACR,EAAG,YAAY,GACf,EAAG,YAAY,GACf,EAAK,YAAY,GAEX,IAAA,EAAmB,CACvB,GAAE,EACF,KAAI,GAGN,EAAM,KAAK,GACX,IAGO,SAAA,EAAa,GACpB,EAAM,iBAEN,EADqB,EAAM,OAOP,QAFd,EAAc,aAAa,QAAQ,KAGR,KAAK,MAAM,GAE9B,QAAQ,SAAA,GAClB,EAAU,EAAK,QAOnB,EAAK,iBAAiB,SAAU,GAtEtB","file":"todo.898a49b2.js","sourceRoot":"..","sourcesContent":["const todo = (function() {\r\n  interface ToDoObj {\r\n    id: string;\r\n    text: string;\r\n  }\r\n\r\n  const doc = <HTMLDocument>document;\r\n  const form = <HTMLFormElement>doc.querySelector(\".js-form-todo\"),\r\n    input = <HTMLInputElement>form.querySelector(\"input\"),\r\n    list = <HTMLUListElement>doc.querySelector(\".js-ul-todo\");\r\n\r\n  const TODOS_LS = \"toDos\";\r\n  let toDos: ToDoObj[] = [];\r\n\r\n  function removeToDo(event: any) {\r\n    const li = event.target.parentNode;\r\n    list.removeChild(li);\r\n    const cleanToDos = toDos.filter(todo => todo.id !== li.id);\r\n    toDos = cleanToDos;\r\n    setToDos();\r\n  }\r\n\r\n  function setToDos() {\r\n    localStorage.setItem(TODOS_LS, JSON.stringify(toDos));\r\n  }\r\n\r\n  function paintTodo(text: string) {\r\n    const li = <HTMLLIElement>doc.createElement(\"li\"),\r\n      delBtn = <HTMLButtonElement>doc.createElement(\"button\"),\r\n      span = <HTMLSpanElement>doc.createElement(\"span\"),\r\n      id = String(toDos.length + 1);\r\n\r\n    delBtn.innerText = \"❌\";\r\n    delBtn.addEventListener(\"click\", removeToDo);\r\n\r\n    span.innerText = text;\r\n    li.id = id;\r\n    li.appendChild(delBtn);\r\n    li.appendChild(span);\r\n    list.appendChild(li);\r\n\r\n    const toDoObj: ToDoObj = {\r\n      id,\r\n      text\r\n    };\r\n\r\n    toDos.push(toDoObj);\r\n    setToDos();\r\n  }\r\n\r\n  function handleSubmit(event: any) {\r\n    event.preventDefault();\r\n    const currentValue = input.value;\r\n    paintTodo(currentValue);\r\n  }\r\n\r\n  function loadToDos() {\r\n    const loadedToDos = localStorage.getItem(TODOS_LS);\r\n\r\n    if (loadedToDos !== null) {\r\n      const parsedToDos: ToDoObj[] = JSON.parse(loadedToDos);\r\n\r\n      parsedToDos.forEach(toDo => {\r\n        paintTodo(toDo.text);\r\n      });\r\n    }\r\n  }\r\n\r\n  function init() {\r\n    loadToDos();\r\n    form.addEventListener(\"submit\", handleSubmit);\r\n  }\r\n\r\n  init();\r\n})();\r\n"]}